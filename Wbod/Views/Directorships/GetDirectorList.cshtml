@model Wbod.Models.DB.Directorship
@{
    ViewData["Title"] = "GetDirectorList";
}
@section styles{ 
    <link href="~/css/easy-autocomplete.min.css" rel="stylesheet" />
}

<div class="bd-example">
    Add or Find Director
</div>

<div class="row">
    <div class="col-md-6">
        <div class="form-row">
            <div class="form-group">
                <a asp-action="AddNewDirectorAndAttach" asp-controller="Directorships" asp-route-companyid="@ViewBag.CompanyId" asp-route-sessionid="@ViewBag.SessionId" class="btn btn-sm btn-primary float-right">Add New Director to Database and Attach To Company</a>
                
            </div>
            
            <h6><u>Or add existing director from database</u></h6>
            
        </div>
        <form asp-action="AttachDirector" asp-controller="Directorships" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-row">
                <div class="form-group">
                    <label for="search">Search Director in Database</label>
                    <input id="search" />
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label asp-for="Cdp1"></label>
                    <select asp-for="Cdp1" asp-items="ViewBag.Currentdirpositionone" class="form-control"></select>
                    <span asp-validation-for="Cdp1" class="text-danger"></span>
                </div>
                <div class="form-group col-md-6">
                    <label asp-for="Cdp2"></label>
                    <select asp-for="Cdp2" asp-items="ViewBag.Currentdirpositiontwo" class="form-control"></select>
                    <span asp-validation-for="Cdp2" class="text-danger"></span>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label asp-for="Daudit"></label>
                    <select asp-for="Daudit" asp-items="ViewBag.Directoraudit" class="form-control"></select>
                    <span asp-validation-for="Daudit" class="text-danger"></span>
                </div>
                <div class="form-group col-md-6">
                    <label asp-for="Drenum"></label>
                    <select asp-for="Drenum" asp-items="ViewBag.Directorrenum" class="form-control"></select>
                    <span asp-validation-for="Drenum" class="text-danger"></span>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label asp-for="Desos"></label>
                    <select asp-for="Desos" asp-items="ViewBag.Directoresos" class="form-control"></select>
                    <span asp-validation-for="Desos" class="text-danger"></span>
                </div>
                <div class="form-group col-md-6">
                    <label asp-for="Drisk"></label>
                    <select asp-for="Drisk" asp-items="ViewBag.Directorrisk" class="form-control"></select>
                    <span asp-validation-for="Drisk" class="text-danger"></span>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label asp-for="Dexec"></label>
                    <select asp-for="Dexec" asp-items="ViewBag.Directorexec" class="form-control"></select>
                    <span asp-validation-for="Dexec" class="text-danger"></span>
                </div>
                <div class="form-group col-md-6">
                    <label asp-for="Dtender"></label>
                    <select asp-for="Dtender" asp-items="ViewBag.Directortender" class="form-control"></select>
                    <span asp-validation-for="Dtender" class="text-danger"></span>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label asp-for="Dnom"></label>
                    <select asp-for="Dnom" asp-items="ViewBag.Directornom" class="form-control"></select>
                    <span asp-validation-for="Dnom" class="text-danger"></span>
                </div>
                <div class="form-group col-md-6">
                    <label asp-for="Dfinance"></label>
                    <select asp-for="Dfinance" asp-items="ViewBag.Directorfinance" class="form-control"></select>
                    <span asp-validation-for="Dfinance" class="text-danger"></span>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label asp-for="Duration"></label>
                    <input asp-for="Duration" class="form-control">
                    <span asp-validation-for="Duration" class="text-danger"></span>
                </div>
            </div>
            <div class="form-group">
                <input type="submit" value="Save" class="btn btn-default" />
            </div>

            <input type="hidden" id="Directorid" name="DirectorId" />
            <input type="hidden" id="Sessionid" value="@ViewBag.SessionId" name="Sessionid" />
            <input type="hidden" id="Companyid" value="@ViewBag.CompanyId" name="Companyid" />
        </form>
        </div>
</div>


        @section Scripts
            {
            <script src="~/js/jquery.easy-autocomplete.min.js"></script>

            <script>
                var options = {
                    url: "/Companies/Directorj",

                    getValue: "name",
                    template: {
                        type: "description",
                        fields: {
                            description: "id"
                        }
                    },

                    list: {
                        match: {
                            enabled: true
                        },
                        onSelectItemEvent: function () {
                            var value = $("#search").getSelectedItemData().id;

                            $("#Directorid").val(value).trigger("change");
                        }
                    }
                };

                $("#search").easyAutocomplete(options);

            </script>
        }
